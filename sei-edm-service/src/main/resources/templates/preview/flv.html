<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="base/base :: base_head"/>
    <title>多媒体文件预览</title>
</head>
<style>
    body{background-color: #262626}
    .m{ margin-left: auto; margin-right: auto; width:1024px; margin-top: 100px; }
</style>
<body>
<div class="m">
    <video width="1024" id="videoElement"></video>
</div>
<script src="js/flv.min.js" th:src="@{/js/flv.min.js}"></script>
<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
    var docId = [[${docId}]];
    /*]]>*/

    if (flvjs.isSupported()) {
        var videoElement = document.getElementById('videoElement');
        var flvPlayer = flvjs.createPlayer({
            type: 'flv',
            url: _ctxPath + "/preview/readFile?docId=" + docId
        });
        flvPlayer.attachMediaElement(videoElement);
        flvPlayer.load();
        flvPlayer.play();
    }
</script>
</body>

</html>
