<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="base/base :: base_head"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <title th:text="${fileName}">pdf预览</title>
    <style type="text/css">
        canvas {
            width: 100%;
            height: 100%;
            border: 1px solid black;
        }

        body {
            margin: 0;
            padding: 0;
            border: 0;
        }
    </style>
</head>
<body>
<iframe src="" width="100%" frameborder="0"></iframe>
</body>
<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
    var docId = [[${docId}]];
    var fn = [[${fileName}]];
    var markText = [[${markText}]];
    /*]]>*/

    document.getElementsByTagName('iframe')[0].src = _ctxPath + "/pdfjs/web/viewer.html?file=" + encodeURIComponent(_ctxPath + "/preview/readFile?docId="+docId+"&fn="+fn+"&markText="+markText);
    document.getElementsByTagName('iframe')[0].height = document.documentElement.clientHeight - 10;
    /**
     * 页面变化调整高度
     */
    window.onresize = function () {
        var fm = document.getElementsByTagName("iframe")[0];
        fm.height = window.document.documentElement.clientHeight - 10;
    }
</script>
</html>